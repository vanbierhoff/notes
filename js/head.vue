<template lang="html">    <div class="container">        <section class="button-section">            <button class="button-section__create" @click="Create">Create</button>            <input v-model="Header" placeholder="Название заметки" @blur="addNotes" v-show="showInput">        </section>        <section class="all-notes">            <creates class="all-notes__thisNotes" :headerTxt="Header" :IDheader="IDNotes" @deleteNotes="deleteNotes"                     @saveNot="saveNots" :saveTexts="saveTexts" :saveIndex="saveIndex" @redactnotes="__redactNotes"                     v-for="comp in NotesComponent"></creates>        </section>        <div class="router-wrapper">            <router-view class="router" @redactnotes="__redactNotes" @newIndex="newIndex" @setHeader="setHeader">                <redactnotes></redactnotes>            </router-view>        </div>    </div></template><script>    import creates from './CreateNotes.vue'    export default {        data() {            return {                Header: '',                IDNotes: '',                texts: '',                notesHead: "Название заметки",                showInput: false,                NotesComponent: new Map(),                notes: "Заметка/напоминание",                index: '',                allNots: new Map(),                saveTexts: [],                saveIndex: [],                i: 0,            }        },        components: {            creates        },        methods: {            Create() {                this.showInput = true;                this.Header = null            },          async  addNotes() {                this.IDNotes = this.Header + this.i                console.log(this.IDNotes)                 await  this.NotesComponent.set(this.IDNotes,creates);                this.showInput = false;                 this.i++            },            __redactNotes() {                debugger                let id = this.$route.params.id                this.index = this.$route.params.ind                let notesId = document.getElementById(this.$route.params.id)                let nots = notesId.querySelectorAll('.txt-notes');                nots.forEach(el => {                    el.classList.remove('lineThroug')                })                this.index.forEach(i => {                    if (i < 3) {                        nots[i].classList.add('lineThroug')                    }                })                let notes =  {                    id: this.$route.params.id,                    index: this.index,                    texts: this.$route.params.Text,                    header: this.$route.params.head[0]                }                this.saveNots(notes)            },            saveNots(notes) {                let not =  {                    id: 'fake',                }                this.allNots.set('fake',not)                this.allNots.set(notes.id, notes)                let JsonNot = JSON.stringify([...this.allNots])                localStorage.allNotes = JsonNot            },            /**             *             * @param key {string} - ключ для NotesComopnent - для удаления текущей  заметки             *             */          async  deleteNotes(key) {                this.NotesComponent.delete(key)                let Not = this.NotesComponent                this.NotesComponent =  new Map()                await this.NotesComponent                this.allNots.delete(key)                localStorage.allNotes = JSON.stringify([...this.allNots])                this.addLocalNotes(this.allNots)            },            newIndex() {                this.index = []                this.id = this.$route.params.id                let search = document.getElementById(this.id)                let paragraph = search.querySelectorAll('.txt-notes')                paragraph.forEach(el => {                    if (el.classList.contains('lineThroug')) {                        el.classList.add('lineThroug')                        this.index.push(el.attributes.index.value)                    }                })                //строчка под сомнениеем                this.$route.params.ind = this.index            },            async addLocalNotes(notes) {                for (let key of notes) {                    this.saveTexts = key[1].texts                    this.saveIndex = key[1].index                    this.IDNotes = key[1].id                    this.Header = key[1].header                   await this.NotesComponent.set(this.IDNotes, creates);                }                this.saveTexts = ''                this.IDNotes = ''                this.Header = ''            },            setHeader(header){                let id = document.getElementById(this.$route.params.id)                let head = id.querySelector('.notes-text__header')                head.textContent = header            }            },            created() {                let not =  new Map (JSON.parse(localStorage.allNotes))                this.allNots = new Map (JSON.parse(localStorage.allNotes))                this.addLocalNotes(not)        }    }</script><style scoped>    .button-section {        display: flex;        align-items: center;    }    .all-notes {        display: flex;       flex-wrap: wrap;        justify-content: center;    }    .router-wrapper{        display: flex;        flex-direction: column;        align-items: center;    }    .router{        position: absolute;        top:25%;        display: flex;        justify-content: flex-end;        flex-direction: column;        background: cornsilk;        align-items: center;    }    @media (max-width: 500px) {        .all-notes__thisNotes {            width: 75% !important;            min-width: 70% !important;            margin: 3% !important;        }    }</style>