<template>    <div class="wrapper-notes">        <div class="notes-text-div" :id="redactId">            <span v-show="statusRedact">Redact</span>            <h3 class="notes-text__header notes__contentEdit"   @blur="endInputHeader($event)">{{txtHeader}}</h3>            <ul class="notes-ul__txt-red">                <li v-for="(txts,index) in Texts" class="notes-li__txt notes-li__txt-red"   @blur="endInput($event)" >                    <p class="paragraph notes__contentEdit" :index="index" @blur="endInput($event.target)" @click="getThrough($event.target)">{{txts}}</p>                    <img @click="deleteNotes($event.target)" src="../img/trash.svg" alt="" class="trash-svg" :index="index">                </li>            </ul>            <input class="notes-input"  v-model="txt" v-show="showInput"                   @blur="end">        </div>        <button class="notes-plus" @click="Create"> Add notes</button>        <button class="notes-plus" @click="Edit"> Edit</button>        <button class="notes-save" @click="save">Save notes</button>    </div>    </template><script>    export default {        data() {            return {                txt: '',                txtHeader: '',                showInput:false,                statusRedact:false,                Texts: [],                index: [],                id: '',                redactId: 'redactNot-',                redact: false,            }        },        methods:{            Create(){                this.showInput = true            },            getLineThrougElem(){                    let notesId = document.getElementById(this.redactId)                    let elem = notesId.querySelectorAll('.paragraph')                    this.index.forEach(i => {                        elem[i].classList.add('lineThroug')                        console.log(elem[i].classList)                    })            },            getThrough(el){                if(this.redact !== true) {                    if (!el.classList.contains('lineThroug')) {                        el.classList.add('lineThroug')                        this.index.push(+el.attributes.index.value)                    } else {                        el.classList.remove('lineThroug')                        this.index = this.index.filter(elem => +elem !== +el.attributes.index.value)                    }                } else{                    return                }            },            save(){                this.$route.params.index = this.index                history.back()                this.$emit('redactnotes')            },            endInputHeader(e){                this.txtHeader = e.currentTarget.textContent;                this.$set(this.txtHeader,e.textContent)            },            async  endInput(e) {                let index = +e.attributes.index.value                let redactText = e.textContent                this.Texts.splice(index,1,redactText)                await this.Texts            },            end(){                this.Texts.push(this.txt);                this.txt = null;                this.showInput = false            },            Edit(){                let notesId = document.getElementById(this.redactId)                let elem = notesId.querySelectorAll('.paragraph')                this.redact = !this.redact;                if(this.redact === true){                    this.statusRedact = true                    elem.forEach(el =>{                        el.contentEditable = true                    })                } else {                    this.statusRedact = false                    let current = 0                    this.statusRedact = false                    elem.forEach(el =>{                        el.contentEditable = false                    })                }            },            /**             *             *             * @param el {DOM element} - элемент по которому был совершен клик             * @param elem {array} - массив редактируемых заметок             * @returns {Promise<void>}             *             *             *             */            async  deleteNotes(el){                let i = +el.attributes.index.value;                let notesId = document.getElementById(this.redactId);                let elem = notesId.querySelectorAll('.paragraph');                await this.Texts.splice(i, 1);                // если в массиве index был индекс удаленного элемента метод filer его удалит                this.index = this.index.filter(elem => +elem !== +el.attributes.index.value);                let newIndex = this.index.map(num => {                    if (+num > i) {                        return num - 1                    } else if (+num <= i) {                        return +num                    }                })                this.index = newIndex;                //удаляем класс LineThroug, задаем заметкам правильные наименования в соотвествии с массивом this.Texts                elem.forEach(el => {                    let i = +el.attributes.index.value                    el.classList.remove('lineThroug')                    el.textContent = this.Texts[i]                })                this.getLineThrougElem()            }        },        mounted(){            this.getLineThrougElem()        },        /**         * @event {$emit} -пользовательское событие для получения актуального index         * @param this.index{array} -массив содержит index пунктов блокнота помеченных как выполненные         */        created() {                this.id = this.$route.params.id                this.$emit('newIndex')                this.txtHeader = this.$route.params.head;                this.Texts = this.$route.params.Text                this.index = this.$route.params.index                this.redactId = this.redactId + this.id        }    }</script><style scoped>    .wrapper-notes{        width: 50%;        left: 35%;        top:50%;    }    .trash-svg{        width: 20px;    }    .notes-li__txt{        display: flex;    }</style>